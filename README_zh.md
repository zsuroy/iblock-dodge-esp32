# 基于ESP32的方块躲避小游戏

技术栈: MicroPython

## 资源说明

- 核心板 ESP32
- 温湿度 DHT11
- 按键 x 2
- 显示屏 OLED0.96 (128x64, SSD1306)

## 演示视频

🎥 [视频预览](src/Block-Dodge.mp4)

## 游戏功能

- **方块躲避玩法**: 控制屏幕底部的玩家躲避从上方掉落的方块
- **计分系统**: 每个成功到达底部而未碰撞的方块可获得分数
- **实时温湿度显示**: 显示来自DHT11传感器的当前环境数据
- **游戏结束与重启**: 游戏结束后显示分数并自动重新开始
- **双控制模式**: 支持物理按键和Web控制两种方式
- **WiFi热点**: 内置AP模式，支持无线控制
- **实时Web界面**: 通过浏览器监控游戏状态并进行控制

## 硬件接线

| 模块      | ESP32引脚 | 说明     |
|----------|----------|--------|
| DHT11    | GPIO26    | 温湿度传感器 |
| OLED SCL | GPIO10    | 显示屏时钟线 |
| OLED SDA | GPIO9     | 显示屏数据线 |
| KEY1     | GPIO27    | 左键     |
| KEY2     | GPIO28    | 右键     |
| 电源      | 3.3V/GND | 所有模块共用 |

## 游戏控制

### 物理按键控制
- **左键 (GPIO27)**: 向左移动玩家
- **右键 (GPIO28)**: 向右移动玩家

### Web控制界面
- **WiFi网络**: 连接到"ESP32-Game"热点（密码：12345678）
- **访问地址**: 浏览器打开ESP32显示的IP地址
- **Web控制**:
  - 左右箭头按钮控制移动
  - 重启按钮重置游戏
  - 实时状态显示（分数、温度、湿度）

## Web控制特性

- **响应式设计**: 支持手机和电脑浏览器
- **实时更新**: 游戏状态和传感器数据实时显示
- **双控制支持**: 可同时使用物理按键和Web控制
- **非阻塞操作**: Web请求不会中断游戏流程

## 使用方法

1. **硬件设置**: 按照接线图连接组件
2. **启动设备**: ESP32会自动启动AP模式
3. **连接WiFi**: 设备连接到"ESP32-Game"网络
4. **打开浏览器**: 访问OLED上显示的IP地址
5. **开始游戏**: 使用物理按键或Web界面进行游戏

## 开发环境

+ MacOS 10.15.7
+ Python 3.7
+ PyCharm
